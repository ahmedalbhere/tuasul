<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ±Ø¬Ù… ØµÙˆØª â†’ Ù„ØºØ© Ø¥Ø´Ø§Ø±Ø©</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#1a237e,#000);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:15px;
}

.app{
    background:#fff;
    width:100%;
    max-width:900px;
    border-radius:20px;
    padding:20px;
    box-shadow:0 20px 40px rgba(0,0,0,.4);
}

h1{
    text-align:center;
    color:#1a237e;
    font-size:2.5em;
    margin-bottom:15px;
}

.box{
    border:3px solid #1a237e;
    border-radius:15px;
    padding:15px;
    margin-bottom:15px;
}

.text{
    min-height:120px;
    font-size:1.8em;
    font-weight:bold;
}

.sign{
    background:#1a237e;
    color:#fff;
    border-radius:15px;
    min-height:200px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}

.emoji{
    font-size:5em;
    animation:float 2s infinite;
}

@keyframes float{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-10px)}
}

.sign-word{
    margin-top:10px;
    font-size:1.8em;
    background:rgba(255,255,255,.2);
    padding:8px 20px;
    border-radius:30px;
}

.controls{
    display:flex;
    gap:10px;
    justify-content:center;
    flex-wrap:wrap;
}

button{
    padding:10px 25px;
    font-size:1.3em;
    border:none;
    border-radius:40px;
    cursor:pointer;
    font-weight:bold;
}

.start{background:#4CAF50;color:#fff}
.stop{background:#f44336;color:#fff}

.status{
    margin-top:10px;
    text-align:center;
    font-size:1.2em;
}
</style>
</head>

<body>
<div class="app">
    <h1>ğŸ¤Ÿ Ù…ØªØ±Ø¬Ù… ØµÙˆØª â†’ Ù„ØºØ© Ø¥Ø´Ø§Ø±Ø©</h1>

    <div class="box">
        <div class="text" id="text">ğŸ¤ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØµÙˆØª...</div>
    </div>

    <div class="box sign">
        <div class="emoji" id="emoji">ğŸ¤Ÿ</div>
        <div class="sign-word" id="signWord">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ÙƒÙ„Ø§Ù…</div>
    </div>

    <div class="controls">
        <button class="start" id="start">â–¶ ØªØ´ØºÙŠÙ„</button>
        <button class="stop" id="stop">â¹ Ø¥ÙŠÙ‚Ø§Ù</button>
    </div>

    <div class="status" id="status">Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ù…ØªÙˆÙ‚Ù</div>
</div>

<script>
const textBox = document.getElementById("text");
const emoji = document.getElementById("emoji");
const signWord = document.getElementById("signWord");
const status = document.getElementById("status");

let recognition;
let stopped = true;

// Ù‚Ø§Ù…ÙˆØ³ Ø¥Ø´Ø§Ø±Ø§Øª Ø¨Ø³ÙŠØ·Ø©
const signs = {
    "Ù…Ø±Ø­Ø¨Ø§": {emoji:"ğŸ‘‹", word:"Ù…Ø±Ø­Ø¨Ø§"},
    "Ø³Ù„Ø§Ù…": {emoji:"âœ‹", word:"Ø³Ù„Ø§Ù…"},
    "Ù†Ø¹Ù…": {emoji:"ğŸ‘", word:"Ù†Ø¹Ù…"},
    "Ù„Ø§": {emoji:"ğŸ‘", word:"Ù„Ø§"},
    "Ø´ÙƒØ±Ø§": {emoji:"ğŸ™", word:"Ø´ÙƒØ±Ø§"},
    "Ø£Ù†Ø§": {emoji:"ğŸ‘†", word:"Ø£Ù†Ø§"},
    "Ø£Ù†Øª": {emoji:"ğŸ‘‡", word:"Ø£Ù†Øª"},
    "Ù†Ø­Ù†": {emoji:"ğŸ¤", word:"Ù†Ø­Ù†"},
    "Ø­Ø¨": {emoji:"â¤ï¸", word:"Ø­Ø¨"},
    "ØªÙ…Ø§Ù…": {emoji:"ğŸ‘Œ", word:"ØªÙ…Ø§Ù…"},
    "ØªÙˆÙ‚Ù": {emoji:"âœ‹", word:"ØªÙˆÙ‚Ù"},
};

function translateToSign(text){
    for(let key in signs){
        if(text.includes(key)){
            emoji.textContent = signs[key].emoji;
            signWord.textContent = signs[key].word;
            return;
        }
    }
    emoji.textContent = "ğŸ¤Ÿ";
    signWord.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ±Ø¬Ù…Ø©...";
}

function startMic(){
    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
    if(!SR){
        alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†");
        return;
    }

    recognition = new SR();
    recognition.lang = "ar-SA";
    recognition.continuous = true;
    recognition.interimResults = true;

    recognition.onstart = ()=>{
        status.textContent = "ğŸ¤ ÙŠØ³ØªÙ…Ø¹ Ø§Ù„Ø¢Ù†...";
    };

    recognition.onresult = e=>{
        let txt = "";
        for(let i=e.resultIndex;i<e.results.length;i++){
            txt += e.results[i][0].transcript;
        }
        textBox.textContent = txt;
        translateToSign(txt);
    };

    recognition.onend = ()=>{
        if(!stopped){
            recognition.start();
        }
    };

    recognition.start();
}

document.getElementById("start").onclick = ()=>{
    stopped = false;
    startMic();
};

document.getElementById("stop").onclick = ()=>{
    stopped = true;
    recognition && recognition.stop();
    status.textContent = "Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ù…ØªÙˆÙ‚Ù";
};
</script>
</body>
</html>
